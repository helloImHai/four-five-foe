(this["webpackJsonpfour-five-foe"]=this["webpackJsonpfour-five-foe"]||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),i=n(11),o=n.n(i),s=(n(133),n(134),n(225)),l=n(214),j=n(110),u=n(8),b=n(18),d=n(207),O=n(209),h=Object(d.a)({unpicked:{borderRadius:"0px",color:"rgba(0, 0, 0, 0)","&:disabled":{color:"rgba(0, 0, 0, 0)"}},picked:{borderRadius:"0px","&:disabled":{color:"#333"}},winningCell:{borderRadius:"0px","&:disabled":{backgroundColor:"#98FB98",color:"#333"}},lastMove:{borderRadius:"0px","&:disabled":{backgroundColor:"#FDFD96",color:"#333"}}});function x(e){var t=h(),n=e.col,c=e.row,r=e.player,i=e.clicked,o=e.isDisabled,s=e.isWinningCell,l=e.isLastMove,j=s?t.winningCell:l?t.lastMove:-1===r?t.unpicked:t.picked;return Object(a.jsx)(O.a,{onClick:function(){return i(c,n)},disabled:o,className:j,style:{width:"100%"},children:0===r?"x":"o"})}var m=n(215),p=n(216),f=n(218),g=n(217),y=n(211),v=n(213),C=n(108),w=n.n(C),k=r.a.createContext(),N=r.a.createContext();function F(){return Object(c.useContext)(k)}function I(e){var t=e.children,n=Object(c.useState)(),r=Object(b.a)(n,2),i=r[0],o=r[1];function s(){var e=w()("https://34.235.115.247:8000",{transports:["websocket"]});return o(e),e}return Object(c.useEffect)((function(){var e=s();if(null!=e)return function(){return e.disconnect()}}),[]),Object(a.jsx)(k.Provider,{value:i,children:Object(a.jsx)(N.Provider,{value:s,children:t})})}var D=r.a.createContext(),_=r.a.createContext();function P(){return Object(c.useContext)(D)}function S(){return Object(c.useContext)(_)}function T(e){var t=e.children,n=Object(c.useState)({name:"",gameId:"",playerId:"",playerNumber:-1,opponentDisconnected:!1}),r=Object(b.a)(n,2),i=r[0],o=r[1];return Object(a.jsx)(D.Provider,{value:i,children:Object(a.jsx)(_.Provider,{value:o,children:t})})}var W=n(212),R=n(176),E=Object(d.a)((function(e){return{player:{height:"45px",paddingTop:5},current:{paddingTop:5,background:"#FFB6C1"}}}));function B(e){var t=e.players,n=e.currentPlayer,c=P(),r=u(c.name),i=u(t[Object.keys(t).filter((function(e){return e!==c.playerId})).reduce((function(e,t){return t}),null)]),o=E(),s="",l="";if(null!=n){var j=n===c.playerNumber;s=j?o.current:"",l=j?"":o.current}function u(e){return null==e?" ":e.length>8?e.substring(0,7)+"...":e}return Object(a.jsxs)(y.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(y.a,{item:!0,xs:5,sm:3,children:Object(a.jsx)(W.a,{className:"".concat(o.player," ").concat(s),elevation:5,children:Object(a.jsx)(R.a,{variant:"h4",children:r})})}),Object(a.jsx)(y.a,{item:!0,xs:5,sm:3,children:Object(a.jsx)(W.a,{className:"".concat(o.player," ").concat(l),elevation:5,children:Object(a.jsx)(R.a,{variant:"h4",children:i})})})]})}var G=n(14);function z(){var e=F(),t=Object(G.e)(),n=Object(c.useContext)(N);return Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:function(){t.push("/"),e.disconnect(),n()},children:"Home"})}var H=Object(d.a)({gamegrid:{overflowX:"auto",maxHeight:"60vh",border:5,borderColor:"#000",borderStyle:"solid",borderRadius:5},table:{width:"100%"},tableBody:{position:"relative"},cell:{padding:0,border:1,borderColor:"#aaa",borderStyle:"solid"}});function L(){var e=H(),t=Object(c.useState)({}),n=Object(b.a)(t,2),r=n[0],i=n[1],o=r.gameGrid,d=r.currentPlayer,O=r.isGameOver,h=r.players,C=P(),w=S(),k=Object(c.useRef)(1),N=F(),I=Object(G.e)();function D(e,t){i((function(n){var a=n.gameGrid,c=n.currentPlayer,r=n.lastMove,i=n.count,o=Object(j.a)(a),s=(c+1)%2;return o[e][t]=Object(u.a)(Object(u.a)({},a[e][t]),{},{player:c,isLastMove:!0}),null!=r&&(o[r[0]][r[1]].isLastMove=!1),Object(u.a)(Object(u.a)({},n),{},{gameGrid:o,currentPlayer:s,lastMove:[e,t],count:i+1})})),N.emit("clickTile",[e,t])}return Object(c.useEffect)((function(){if(null!=N)return N.on("game_state",(function(e){i(e)})),N.on("another_player_disconnected",(function(){w((function(e){return Object(u.a)(Object(u.a)({},e),{},{opponentDisconnected:!0,playerNumber:0})})),I.push("/lobby")})),function(){return N.off()}}),[N,w,I]),Object(c.useEffect)((function(){k.current=k.current+1})),null==o?Object(a.jsx)("div",{children:"Loading..."}):Object(a.jsxs)(l.a,{maxWidth:"md",children:[Object(a.jsx)(B,{players:h,currentPlayer:d}),Object(a.jsx)(s.a,{m:2}),Object(a.jsx)(y.a,{container:!0,className:e.gamegrid,children:Object(a.jsx)(m.a,{className:e.table,children:Object(a.jsx)(p.a,{className:e.tableBody,children:o.map((function(t,n){return Object(a.jsx)(g.a,{children:t.map((function(t,n){var c=t.row,r=t.col,i=t.player,o=t.isWinningCell,s=t.isLastMove;return Object(a.jsx)(f.a,{className:e.cell,style:{minWidth:"50px"},align:"center",size:"small",children:Object(a.jsx)(x,{row:c,col:r,player:i,isDisabled:-1!==i||C.playerNumber!==d||O,isWinningCell:o,isLastMove:s,clicked:D})},100*c+r)}))},n)}))})})}),Object(a.jsx)("br",{}),Object(a.jsxs)(s.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:[Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){N.emit("reset_game")},children:"New Game"}),Object(a.jsx)(s.a,{m:1}),Object(a.jsx)(z,{})]})]})}var M=Object(d.a)((function(e){return{indexContainer:{marginLeft:"auto",textAlign:"center"}}}));function J(){var e=M();return Object(a.jsx)("div",{children:Object(a.jsx)(s.a,{className:e.game,bgcolor:"background.default",children:Object(a.jsxs)(l.a,{className:e.indexContainer,maxWidth:"lg",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L,{})]})})})}var A=n(224),Y=n(70),X=n(5),q=n(227),K=n(219),Q=n(220),U=n(221),V=n(68),Z=n.n(V),$={intro:{title:"Welcome to Four-Five-Foe",message:"Hello everyone! This is a two-player game I used to play back in \n    secondary school. It's really similar to tic-tac-toe, but you win with \n    either an open 4, or with 5 in a row. Due to this slight variation in the \n    rules, I'm calling it Four-Five-Foe!",closingText:"Play Now"},joinFail:{title:"Join Room Failure",message:"The room you tried to join does not exists or is full.",closingText:"Okay"},anotherPlayerDisconnect:{title:"Your Opponent has disconnected",message:"The reason you're seeing this message is because your friend doesn't\n     want to play with you. ",closingText:"\ud83d\ude22"}},ee=Object(X.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose,r=Object(Y.a)(e,["children","classes","onClose"]);return Object(a.jsxs)(K.a,Object(u.a)(Object(u.a)({disableTypography:!0,className:n.root},r),{},{children:[Object(a.jsx)(R.a,{variant:"h6",children:t}),c?Object(a.jsx)(O.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(a.jsx)(Z.a,{})}):null]}))})),te=Object(X.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Q.a),ne=Object(X.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(U.a);function ae(e){var t=e.isOpen,n=e.setIsOpen,c=e.type,r=function(){n(!1)},i=$[c],o=i.title,s=i.message,l=i.closingText;return Object(a.jsx)("div",{children:Object(a.jsxs)(q.a,{onClose:r,"aria-labelledby":"customized-dialog-title",open:t,children:[Object(a.jsx)(ee,{id:"customized-dialog-title",onClose:r,children:o}),Object(a.jsx)(te,{dividers:!0,children:Object(a.jsx)(R.a,{gutterBottom:!0,children:s})}),Object(a.jsx)(ne,{children:Object(a.jsx)(v.a,{autoFocus:!0,onClick:r,color:"primary",children:l})})]})})}var ce=n(222);function re(){var e=Object(G.e)(),t=F(),n=S(),r=P(),i=Object(c.useState)(!1),o=Object(b.a)(i,2),j=o[0],d=o[1],O=Object(c.useState)(!0),h=Object(b.a)(O,2),x=h[0],m=h[1],p=""!==r.name;return Object(c.useEffect)((function(){if(null!=t)return p&&(m(!1),t.emit("set_name",r.name)),t.on("set_player_id",(function(e){n((function(t){return Object(u.a)(Object(u.a)({},t),{},{playerId:e})}))})),t.on("joined_room",(function(t){n((function(e){return Object(u.a)(Object(u.a)({},e),{},{gameId:t})})),e.push("/lobby")})),t.on("join_room_failure",(function(){d(!0)})),function(){return t.off()}}),[t,p,n,r,e]),Object(a.jsxs)(l.a,{maxWidth:"md",children:[Object(a.jsx)(s.a,{m:10}),Object(a.jsx)(ae,{isOpen:x,setIsOpen:m,type:"intro"}),Object(a.jsx)(ae,{isOpen:j,setIsOpen:d,type:"joinFail"}),Object(a.jsx)(se,{hasSetName:p}),p?Object(a.jsx)(oe,{}):""]})}var ie=Object(d.a)({gameTypePaper:{minHeight:170,padding:20,"&:hover":{backgroundColor:"#fffafa",boxShadow:"3px 7px #888888;"}}});function oe(){var e=F(),t=S(),n=Object(c.useRef)(),r=ie();return Object(a.jsxs)(y.a,{container:!0,spacing:3,children:[Object(a.jsx)(y.a,{item:!0,xs:6,children:Object(a.jsxs)(W.a,{className:r.gameTypePaper,elevation:5,children:[Object(a.jsx)(R.a,{variant:"h4",children:"Create a new game"}),Object(a.jsx)(s.a,{m:3}),Object(a.jsx)(R.a,{children:"Click on this to create a new game and invite a friend to join you!"}),Object(a.jsx)(s.a,{m:3}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){t((function(e){return Object(u.a)(Object(u.a)({},e),{},{playerNumber:0})})),e.emit("create_room")},children:"New Game"})]})}),Object(a.jsx)(y.a,{item:!0,xs:6,children:Object(a.jsxs)(W.a,{className:r.gameTypePaper,elevation:5,children:[Object(a.jsx)(R.a,{variant:"h4",children:"Join a game"}),Object(a.jsx)(s.a,{m:3}),Object(a.jsx)(A.a,{inputRef:n,label:"Game id",variant:"outlined",color:"secondary",size:"small",fullWidth:!0,style:{marginRight:10}}),Object(a.jsx)(s.a,{m:3}),Object(a.jsx)(v.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){t((function(e){return Object(u.a)(Object(u.a)({},e),{},{playerNumber:1})})),e.emit("join_room",n.current.value)},children:"Join Game"})]})})]})}function se(e){var t=e.hasSetName,n=F(),r=P(),i=S(),o=Object(c.useRef)();return Object(a.jsxs)(a.Fragment,{children:[t?Object(a.jsxs)(s.a,{display:"flex",flexDirection:"row",children:[Object(a.jsxs)(R.a,{variant:"h3",children:["Hello, ",r.name]}),Object(a.jsx)(s.a,{children:Object(a.jsx)(O.a,{size:"small",onClick:function(){n.emit("set_name",""),i((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:""})}))},children:Object(a.jsx)(ce.a,{})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R.a,{variant:"h3",children:"Hello, what's your name?"}),Object(a.jsx)(s.a,{m:3}),Object(a.jsx)(A.a,{xs:4,inputRef:o,label:"Name",variant:"outlined",size:"small",style:{marginRight:10,minWidth:"50%"}}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){""!==o.current.value?(n.emit("set_name",o.current.value),i((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:o.current.value})}))):alert("Please, I want to know your name")},children:"Set Name"})]}),Object(a.jsx)(s.a,{m:3})]})}function le(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Waiting for Player 2..."}),Object(a.jsx)("p",{children:"Get a friend to join this room!"})]})}function je(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"We're all set!"}),Object(a.jsx)("p",{children:"Let's get this party started!"})]})}function ue(){var e=Object(G.e)(),t=F(),n=Object(c.useState)(!1),r=Object(b.a)(n,2),i=r[0],o=r[1],j=Object(c.useState)(),d=Object(b.a)(j,2),O=d[0],h=d[1],x=P(),m=x.name,p=x.gameId,f=P(),g=S();return Object(c.useEffect)((function(){if(null!=t)return t.on("game_started",(function(){e.push("/game")})),t.on("game_state",(function(e){var t=e.players;h((function(e){return 2===Object.keys(t).length?o(!0):o(!1),t}))})),t.on("another_player_disconnected",(function(){g((function(e){return Object(u.a)(Object(u.a)({},e),{},{playerNumber:0})}))})),function(){return t.off()}}),[t,e,o,g,h]),Object(a.jsxs)(l.a,{maxWidth:"md",children:[Object(a.jsx)(s.a,{m:10}),Object(a.jsx)(ae,{isOpen:f.opponentDisconnected,setIsOpen:function(){return g((function(e){return Object(u.a)(Object(u.a)({},e),{},{opponentDisconnected:!e.opponentDisconnected})}))},type:"anotherPlayerDisconnect"}),Object(a.jsxs)(y.a,{container:!0,direction:"column",justify:"center",align:"center",children:[Object(a.jsx)(y.a,{item:!0,children:null==O?"":Object(a.jsx)(B,{players:O})}),Object(a.jsxs)(y.a,{item:!0,children:[Object(a.jsxs)("h1",{children:["Hi ","".concat(m),"!"]}),i?Object(a.jsx)(je,{}):Object(a.jsx)(le,{}),Object(a.jsxs)("h3",{children:["Game ID: ","".concat(p)]})]}),Object(a.jsx)(y.a,{item:!0,children:Object(a.jsx)(s.a,{m:3})}),Object(a.jsx)(y.a,{item:!0,children:Object(a.jsxs)(s.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:[Object(a.jsx)(v.a,{variant:"contained",color:"primary",disabled:!i,onClick:function(){t.emit("start_game")},children:i?"Start Game":"Waiting for player 2"}),Object(a.jsx)(s.a,{m:1}),Object(a.jsx)(z,{})]})})]})]})}var be=Object(X.a)({root:{fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"#f9a602",borderColor:"#f9a602","&:hover":{backgroundColor:"#D68E22",borderColor:"#D68E02",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"#FEC34E",borderColor:"#FEC34E"}}})(v.a),de=Object(X.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose,r=Object(Y.a)(e,["children","classes","onClose"]);return Object(a.jsxs)(K.a,Object(u.a)(Object(u.a)({disableTypography:!0,className:n.root},r),{},{children:[Object(a.jsx)(R.a,{variant:"h6",children:t}),c?Object(a.jsx)(O.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(a.jsx)(Z.a,{})}):null]}))})),Oe=Object(X.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Q.a),he=Object(X.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(U.a);function xe(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],i=function(){r(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(s.a,{m:3}),n?Object(a.jsxs)(q.a,{onClose:i,"aria-labelledby":"customized-dialog-title",open:n,children:[Object(a.jsx)(de,{id:"customized-dialog-title",onClose:i,children:"HOW TO PLAY"}),Object(a.jsxs)(Oe,{dividers:!0,children:[Object(a.jsx)(R.a,{gutterBottom:!0,children:'It\'s just like tic-tac-toe but the board is much bigger and you win with 5 instead of 3. This means that an "open" 4 would also result in a win because the opponent will have no way to block you!'}),Object(a.jsx)(R.a,{gutterBottom:!0,children:"I meant to write more for this part and include pictures but I'm lazy, will get back to this if I have time after deployment."})]}),Object(a.jsx)(he,{children:Object(a.jsx)(v.a,{autoFocus:!0,onClick:i,color:"primary",children:"READY"})})]}):Object(a.jsx)(s.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:Object(a.jsx)(be,{variant:"contained",color:"primary",onClick:function(){return r(!0)},children:"Instructions"})})]})}var me=n(40),pe=n(109),fe=n(223),ge=Object(pe.a)({palette:{type:"light"}});var ye=function(){return Object(a.jsx)(fe.a,{theme:ge,children:Object(a.jsx)(I,{children:Object(a.jsx)(T,{children:Object(a.jsxs)(me.a,{children:[Object(a.jsx)(G.a,{path:"/",exact:!0,component:re}),Object(a.jsx)(G.a,{path:"/lobby",component:ue}),Object(a.jsx)(G.a,{path:"/game",component:J}),Object(a.jsx)(xe,{})]})})})})};o.a.render(Object(a.jsx)(ye,{}),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.4e3fe890.chunk.js.map